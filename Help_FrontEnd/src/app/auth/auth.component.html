<div class="w-100 auth-wrapper">
  <div class="container h-100">
    <form class="w-100 h-100" [formGroup]="authForm" (submit)="onSubmit()">
      <div class="d-flex w-100 h-100 align-items-center justify-content-center">
        <div class="row w-100">
          <div
            class="col-lg-4 col-md-6 col-12 mx-auto d-flex flex-column gap-3"
          >
            <p-card [header]="currentAuthMode">
              <div class="d-flex flex-column gap-2">
                <div class="d-flex flex-column gap-2">
                  <label htmlFor="email">Email</label>
                  <input pInputText id="email" formControlName="email" />
                  <small
                    id="email-help"
                    class="text-danger"
                    *ngIf="emailError"
                    >{{ emailError }}</small
                  >
                </div>
                <div class="d-flex flex-column gap-2">
                  <label htmlFor="password">Password</label>
                  <input
                    pInputText
                    id="password"
                    aria-describedby="password-help"
                    type="password"
                    formControlName="password"
                  />
                  <small
                    id="password-help"
                    class="text-danger"
                    *ngIf="passwordError"
                    >{{ passwordError }}</small
                  >
                </div>
              </div>

              <ng-template pTemplate="footer" class="mt-0 pt-0">
                <div class="d-flex align-items-center justify-content-between">
                  <p-button
                    styleClass="p-button-sm p-button-text"
                    (onClick)="switchAuthType()"
                  >
                    {{
                      currentAuthMode === authType.login
                        ? authType.register
                        : authType.login
                    }}
                  </p-button>
                  <p-button
                    styleClass="p-button-sm"
                    type="submit"
                    [disabled]="authForm.invalid"
                    >{{
                      currentAuthMode === authType.login
                        ? authType.login
                        : authType.register
                    }}</p-button
                  >
                </div>
              </ng-template>
            </p-card>

            <p-button
              *ngIf="!isLoggedInAsGuest"
              type="button"
              styleClass="p-button-secondary w-100 text-center d-flex justify-content-center"
              (onClick)="loginAsGuest()"
            >
              Continue as guest
            </p-button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
